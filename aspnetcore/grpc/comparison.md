---
title: HTTP API を使用した gRPC サービスの比較
author: jamesnk
description: gRPC と HTTP API を比較し、どのようなシナリオが推奨されるかを説明します。
monikerRange: '>= aspnetcore-3.0'
ms.author: jamesnk
ms.date: 12/05/2019
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: grpc/comparison
ms.openlocfilehash: 1ec553d54a9cad170cb322bc186bb67ac8bbded4
ms.sourcegitcommit: cc405f20537484744423ddaf87bd1e7d82b6bdf0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/21/2021
ms.locfileid: "98658730"
---
# <a name="compare-grpc-services-with-http-apis"></a><span data-ttu-id="1a821-103">HTTP API を使用した gRPC サービスの比較</span><span class="sxs-lookup"><span data-stu-id="1a821-103">Compare gRPC services with HTTP APIs</span></span>

<span data-ttu-id="1a821-104">作成者: [James Newton-King](https://twitter.com/jamesnk)</span><span class="sxs-lookup"><span data-stu-id="1a821-104">By [James Newton-King](https://twitter.com/jamesnk)</span></span>

<span data-ttu-id="1a821-105">この記事では、JSON を使用する HTTP API (ASP.NET Core [Web API](xref:web-api/index) を含む) と対比させて [gRPC サービス](https://grpc.io/docs/guides/)について説明します。</span><span class="sxs-lookup"><span data-stu-id="1a821-105">This article explains how [gRPC services](https://grpc.io/docs/guides/) compare to HTTP APIs with JSON (including ASP.NET Core [web APIs](xref:web-api/index)).</span></span> <span data-ttu-id="1a821-106">アプリに API を提供するために使用するテクノロジは重要な選択であり、gRPC は、HTTP API と比較して特有の利点を備えています。</span><span class="sxs-lookup"><span data-stu-id="1a821-106">The technology used to provide an API for your app is an important choice, and gRPC offers unique benefits compared to HTTP APIs.</span></span> <span data-ttu-id="1a821-107">この記事では、gRPC の長所と短所について説明し、他のテクノロジよりも gRPC を使用するのが推奨されるシナリオを示します。</span><span class="sxs-lookup"><span data-stu-id="1a821-107">This article discusses the strengths and weaknesses of gRPC and recommends scenarios for using gRPC over other technologies.</span></span>

## <a name="high-level-comparison"></a><span data-ttu-id="1a821-108">比較の概要</span><span class="sxs-lookup"><span data-stu-id="1a821-108">High-level comparison</span></span>

<span data-ttu-id="1a821-109">次の表は、gRPC と、JSON を使用する HTTP API の機能を比較した概要を示しています。</span><span class="sxs-lookup"><span data-stu-id="1a821-109">The following table offers a high-level comparison of features between gRPC and HTTP APIs with JSON.</span></span>

| <span data-ttu-id="1a821-110">機能</span><span class="sxs-lookup"><span data-stu-id="1a821-110">Feature</span></span>          | <span data-ttu-id="1a821-111">gRPC</span><span class="sxs-lookup"><span data-stu-id="1a821-111">gRPC</span></span>                                               | <span data-ttu-id="1a821-112">JSON を使用する HTTP API</span><span class="sxs-lookup"><span data-stu-id="1a821-112">HTTP APIs with JSON</span></span>           |
| ---------------- | -------------------------------------------------- | ----------------------------- |
| <span data-ttu-id="1a821-113">コントラクト</span><span class="sxs-lookup"><span data-stu-id="1a821-113">Contract</span></span>         | <span data-ttu-id="1a821-114">必須 ( *.proto*)</span><span class="sxs-lookup"><span data-stu-id="1a821-114">Required (*.proto*)</span></span>                                | <span data-ttu-id="1a821-115">オプション (OpenAPI)</span><span class="sxs-lookup"><span data-stu-id="1a821-115">Optional (OpenAPI)</span></span>            |
| <span data-ttu-id="1a821-116">プロトコル</span><span class="sxs-lookup"><span data-stu-id="1a821-116">Protocol</span></span>         | <span data-ttu-id="1a821-117">HTTP/2</span><span class="sxs-lookup"><span data-stu-id="1a821-117">HTTP/2</span></span>                                             | <span data-ttu-id="1a821-118">HTTP</span><span class="sxs-lookup"><span data-stu-id="1a821-118">HTTP</span></span>                          |
| <span data-ttu-id="1a821-119">Payload</span><span class="sxs-lookup"><span data-stu-id="1a821-119">Payload</span></span>          | [<span data-ttu-id="1a821-120">Protobuf (小、バイナリ)</span><span class="sxs-lookup"><span data-stu-id="1a821-120">Protobuf (small, binary)</span></span>](#performance)           | <span data-ttu-id="1a821-121">JSON (大、人が判読できる)</span><span class="sxs-lookup"><span data-stu-id="1a821-121">JSON (large, human readable)</span></span>  |
| <span data-ttu-id="1a821-122">規範的性質</span><span class="sxs-lookup"><span data-stu-id="1a821-122">Prescriptiveness</span></span> | [<span data-ttu-id="1a821-123">厳密な仕様</span><span class="sxs-lookup"><span data-stu-id="1a821-123">Strict specification</span></span>](#strict-specification)      | <span data-ttu-id="1a821-124">制約が緩い。</span><span class="sxs-lookup"><span data-stu-id="1a821-124">Loose.</span></span> <span data-ttu-id="1a821-125">どのような HTTP でも有効です。</span><span class="sxs-lookup"><span data-stu-id="1a821-125">Any HTTP is valid.</span></span>     |
| <span data-ttu-id="1a821-126">ストリーム</span><span class="sxs-lookup"><span data-stu-id="1a821-126">Streaming</span></span>        | [<span data-ttu-id="1a821-127">クライアント、サーバー、双方向</span><span class="sxs-lookup"><span data-stu-id="1a821-127">Client, server, bi-directional</span></span>](#streaming)       | <span data-ttu-id="1a821-128">クライアント、サーバー</span><span class="sxs-lookup"><span data-stu-id="1a821-128">Client, server</span></span>                |
| <span data-ttu-id="1a821-129">ブラウザーのサポート</span><span class="sxs-lookup"><span data-stu-id="1a821-129">Browser support</span></span>  | [<span data-ttu-id="1a821-130">いいえ (grpc-web が必要)</span><span class="sxs-lookup"><span data-stu-id="1a821-130">No (requires grpc-web)</span></span>](#limited-browser-support) | <span data-ttu-id="1a821-131">はい</span><span class="sxs-lookup"><span data-stu-id="1a821-131">Yes</span></span>                           |
| <span data-ttu-id="1a821-132">セキュリティ</span><span class="sxs-lookup"><span data-stu-id="1a821-132">Security</span></span>         | <span data-ttu-id="1a821-133">トランスポート (TLS)</span><span class="sxs-lookup"><span data-stu-id="1a821-133">Transport (TLS)</span></span>                                    | <span data-ttu-id="1a821-134">トランスポート (TLS)</span><span class="sxs-lookup"><span data-stu-id="1a821-134">Transport (TLS)</span></span>               |
| <span data-ttu-id="1a821-135">クライアント コード生成</span><span class="sxs-lookup"><span data-stu-id="1a821-135">Client code-generation</span></span> | [<span data-ttu-id="1a821-136">はい</span><span class="sxs-lookup"><span data-stu-id="1a821-136">Yes</span></span>](#code-generation)                      | <span data-ttu-id="1a821-137">OpenAPI とサードパーティ製ツール</span><span class="sxs-lookup"><span data-stu-id="1a821-137">OpenAPI + third-party tooling</span></span> |

## <a name="grpc-strengths"></a><span data-ttu-id="1a821-138">gRPC の長所</span><span class="sxs-lookup"><span data-stu-id="1a821-138">gRPC strengths</span></span>

### <a name="performance"></a><span data-ttu-id="1a821-139">パフォーマンス</span><span class="sxs-lookup"><span data-stu-id="1a821-139">Performance</span></span>

<span data-ttu-id="1a821-140">gRPC メッセージは、効率的なバイナリ メッセージ形式である [Protobuf](https://developers.google.com/protocol-buffers/docs/overview) を使用してシリアル化されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-140">gRPC messages are serialized using [Protobuf](https://developers.google.com/protocol-buffers/docs/overview), an efficient binary message format.</span></span> <span data-ttu-id="1a821-141">Protobuf はサーバーおよびクライアント上で、非常に高速にシリアル化を行います。</span><span class="sxs-lookup"><span data-stu-id="1a821-141">Protobuf serializes very quickly on the server and client.</span></span> <span data-ttu-id="1a821-142">Protobuf のシリアル化では、メッセージ ペイロードが小さくなります。これはモバイル アプリのように帯域幅が限られるシナリオでは重要です。</span><span class="sxs-lookup"><span data-stu-id="1a821-142">Protobuf serialization results in small message payloads, important in limited bandwidth scenarios like mobile apps.</span></span>

<span data-ttu-id="1a821-143">gRPC は、HTTP のメジャー リビジョンである HTTP/2 向けに設計されており、パフォーマンスは HTTP 1.x よりも大幅に向上します。</span><span class="sxs-lookup"><span data-stu-id="1a821-143">gRPC is designed for HTTP/2, a major revision of HTTP that provides significant performance benefits over HTTP 1.x:</span></span>

* <span data-ttu-id="1a821-144">バイナリ フレームと圧縮。</span><span class="sxs-lookup"><span data-stu-id="1a821-144">Binary framing and compression.</span></span> <span data-ttu-id="1a821-145">HTTP/2 プロトコルは、送信と受信の両方においてコンパクトかつ効率的です。</span><span class="sxs-lookup"><span data-stu-id="1a821-145">HTTP/2 protocol is compact and efficient both in sending and receiving.</span></span>
* <span data-ttu-id="1a821-146">単一 TCP 接続での複数の HTTP/2 呼び出しの多重化。</span><span class="sxs-lookup"><span data-stu-id="1a821-146">Multiplexing of multiple HTTP/2 calls over a single TCP connection.</span></span> <span data-ttu-id="1a821-147">多重化により、[ヘッドオブライン ブロッキング](https://en.wikipedia.org/wiki/Head-of-line_blocking)が解消されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-147">Multiplexing eliminates [head-of-line blocking](https://en.wikipedia.org/wiki/Head-of-line_blocking).</span></span>

<span data-ttu-id="1a821-148">HTTP/2 は gRPC に限定されません。</span><span class="sxs-lookup"><span data-stu-id="1a821-148">HTTP/2 is not exclusive to gRPC.</span></span> <span data-ttu-id="1a821-149">JSON を使用する HTTP API など、多くの要求の種類で、HTTP/2 を使用すると、パフォーマンスの向上による恩恵を受けることができます。</span><span class="sxs-lookup"><span data-stu-id="1a821-149">Many request types, including HTTP APIs with JSON, can use HTTP/2 and benefit from its performance improvements.</span></span>

### <a name="code-generation"></a><span data-ttu-id="1a821-150">コード生成</span><span class="sxs-lookup"><span data-stu-id="1a821-150">Code generation</span></span>

<span data-ttu-id="1a821-151">すべての gRPC フレームワークで、コード生成は最高レベルでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="1a821-151">All gRPC frameworks provide first-class support for code generation.</span></span> <span data-ttu-id="1a821-152">gRPC 開発の中核となるファイルは [`.proto` ファイル](https://developers.google.com/protocol-buffers/docs/proto3)であり、そこで gRPC のサービスとメッセージのコントラクトが定義されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-152">A core file to gRPC development is the [`.proto` file](https://developers.google.com/protocol-buffers/docs/proto3), which defines the contract of gRPC services and messages.</span></span> <span data-ttu-id="1a821-153">このファイルから、gRPC フレームワークによって、サービス基本クラス、メッセージ、および完全なクライアントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-153">From this file, gRPC frameworks generate a service base class, messages, and a complete client.</span></span>

<span data-ttu-id="1a821-154">サーバーとクライアントの間で *.proto* ファイルを共有すれば、端から端までメッセージとクライアント コードを生成できます。</span><span class="sxs-lookup"><span data-stu-id="1a821-154">By sharing the *.proto* file between the server and client, messages and client code can be generated from end to end.</span></span> <span data-ttu-id="1a821-155">クライアントのコード生成によって、クライアントとサーバー上でメッセージが重複しなくなり、厳密に型指定されたクライアントが自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-155">Code generation of the client eliminates duplication of messages on the client and server, and creates a strongly-typed client for you.</span></span> <span data-ttu-id="1a821-156">クライアントを記述する必要がないので、多くのサービスを持つアプリケーションの開発時間が大幅に節約されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-156">Not having to write a client saves significant development time in applications with many services.</span></span>

### <a name="strict-specification"></a><span data-ttu-id="1a821-157">厳密な仕様</span><span class="sxs-lookup"><span data-stu-id="1a821-157">Strict specification</span></span>

<span data-ttu-id="1a821-158">JSON を使用する HTTP API の公式仕様は存在しません。</span><span class="sxs-lookup"><span data-stu-id="1a821-158">A formal specification for HTTP API with JSON doesn't exist.</span></span> <span data-ttu-id="1a821-159">URL、HTTP 動詞、および応答コードの最適な形式については、開発者が議論します。</span><span class="sxs-lookup"><span data-stu-id="1a821-159">Developers debate the best format of URLs, HTTP verbs, and response codes.</span></span>

<span data-ttu-id="1a821-160">[gRPC 仕様](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md)では、gRPC サービスが従う必要がある形式の規範が示されています。</span><span class="sxs-lookup"><span data-stu-id="1a821-160">The [gRPC specification](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md) is prescriptive about the format a gRPC service must follow.</span></span> <span data-ttu-id="1a821-161">gRPC はプラットフォームや実装の全体にわたって一貫性があるため、議論は不要であり、開発者の時間が節約されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-161">gRPC eliminates debate and saves developer time because gRPC is consistent across platforms and implementations.</span></span>

### <a name="streaming"></a><span data-ttu-id="1a821-162">ストリーム</span><span class="sxs-lookup"><span data-stu-id="1a821-162">Streaming</span></span>

<span data-ttu-id="1a821-163">HTTP/2 では、有効期間が長いリアルタイム通信ストリームの基盤が提供されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-163">HTTP/2 provides a foundation for long-lived, real-time communication streams.</span></span> <span data-ttu-id="1a821-164">gRPC では、HTTP/2 を介したストリーミングが最高レベルでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="1a821-164">gRPC provides first-class support for streaming through HTTP/2.</span></span>

<span data-ttu-id="1a821-165">gRPC サービスでは、ストリーミングのすべての組み合わせがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="1a821-165">A gRPC service supports all streaming combinations:</span></span>

* <span data-ttu-id="1a821-166">Unary (ストリーミングなし)</span><span class="sxs-lookup"><span data-stu-id="1a821-166">Unary (no streaming)</span></span>
* <span data-ttu-id="1a821-167">サーバーからクライアントへのストリーミング</span><span class="sxs-lookup"><span data-stu-id="1a821-167">Server to client streaming</span></span>
* <span data-ttu-id="1a821-168">クライアントからサーバーへのストリーミング</span><span class="sxs-lookup"><span data-stu-id="1a821-168">Client to server streaming</span></span>
* <span data-ttu-id="1a821-169">双方向ストリーミング</span><span class="sxs-lookup"><span data-stu-id="1a821-169">Bi-directional streaming</span></span>

### <a name="deadlinetimeouts-and-cancellation"></a><span data-ttu-id="1a821-170">期限/タイムアウトとキャンセル</span><span class="sxs-lookup"><span data-stu-id="1a821-170">Deadline/timeouts and cancellation</span></span>

<span data-ttu-id="1a821-171">gRPC を使用すると、クライアントが RPC の完了を待機する時間を指定できます。</span><span class="sxs-lookup"><span data-stu-id="1a821-171">gRPC allows clients to specify how long they are willing to wait for an RPC to complete.</span></span> <span data-ttu-id="1a821-172">[期限](https://grpc.io/blog/deadlines)がサーバーに送信され、期限を越えた場合にどのようなアクションを実行するかをサーバーで決定できます。</span><span class="sxs-lookup"><span data-stu-id="1a821-172">The [deadline](https://grpc.io/blog/deadlines) is sent to the server, and the server can decide what action to take if it exceeds the deadline.</span></span> <span data-ttu-id="1a821-173">たとえば、タイムアウト時に、進行中の gRPC/HTTP/データベース要求をサーバーでキャンセルする場合があります。</span><span class="sxs-lookup"><span data-stu-id="1a821-173">For example, the server might cancel in-progress gRPC/HTTP/database requests on timeout.</span></span>

<span data-ttu-id="1a821-174">子の gRPC 呼び出しを通して期限やキャンセルを伝達すると、リソース使用量の制限を適用する助けとなります。</span><span class="sxs-lookup"><span data-stu-id="1a821-174">Propagating the deadline and cancellation through child gRPC calls helps enforce resource usage limits.</span></span>

## <a name="grpc-recommended-scenarios"></a><span data-ttu-id="1a821-175">gRPC での推奨されるシナリオ</span><span class="sxs-lookup"><span data-stu-id="1a821-175">gRPC recommended scenarios</span></span>

<span data-ttu-id="1a821-176">gRPC は以下のシナリオに適しています。</span><span class="sxs-lookup"><span data-stu-id="1a821-176">gRPC is well suited to the following scenarios:</span></span>

* <span data-ttu-id="1a821-177">**マイクロサービス**: gRPC は、待機時間が短く、スループットの高い通信のために設計されています。</span><span class="sxs-lookup"><span data-stu-id="1a821-177">**Microservices**: gRPC is designed for low latency and high throughput communication.</span></span> <span data-ttu-id="1a821-178">gRPC は、効率が非常に重要となる軽量のマイクロサービスに適しています。</span><span class="sxs-lookup"><span data-stu-id="1a821-178">gRPC is great for lightweight microservices where efficiency is critical.</span></span>
* <span data-ttu-id="1a821-179">**ポイント ツー ポイントのリアルタイム通信**: gRPC での双方向ストリーミングのサポートは非常に優秀です。</span><span class="sxs-lookup"><span data-stu-id="1a821-179">**Point-to-point real-time communication**: gRPC has excellent support for bi-directional streaming.</span></span> <span data-ttu-id="1a821-180">gRPC サービスでは、ポーリングせずにメッセージをリアルタイムにプッシュできます。</span><span class="sxs-lookup"><span data-stu-id="1a821-180">gRPC services can push messages in real-time without polling.</span></span>
* <span data-ttu-id="1a821-181">**多言語環境**: gRPC ツールでは、一般的な開発言語がすべてサポートされているため、gRPC は多言語環境に適した選択肢となっています。</span><span class="sxs-lookup"><span data-stu-id="1a821-181">**Polyglot environments**: gRPC tooling supports all popular development languages, making gRPC a good choice for multi-language environments.</span></span>
* <span data-ttu-id="1a821-182">**ネットワーク面の制約がある環境**: gRPC メッセージは、軽量なメッセージ形式である Protobuf でシリアル化されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-182">**Network constrained environments**: gRPC messages are serialized with Protobuf, a lightweight message format.</span></span> <span data-ttu-id="1a821-183">gRPC メッセージは常に、同等の JSON メッセージよりも小さくなります。</span><span class="sxs-lookup"><span data-stu-id="1a821-183">A gRPC message is always smaller than an equivalent JSON message.</span></span>
* <span data-ttu-id="1a821-184">**プロセス間通信 (IPC)** :UNIX ドメイン ソケットや名前付きパイプなどの IPC トランスポートを gRPC と共に使用して、同じマシン上のアプリ間で通信を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="1a821-184">**Inter-process communication (IPC)**: IPC transports such as Unix domain sockets and named pipes can be used with gRPC to communicate between apps on the same machine.</span></span> <span data-ttu-id="1a821-185">詳細については、「<xref:grpc/interprocess>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1a821-185">For more information, see <xref:grpc/interprocess>.</span></span>

## <a name="grpc-weaknesses"></a><span data-ttu-id="1a821-186">gRPC の短所</span><span class="sxs-lookup"><span data-stu-id="1a821-186">gRPC weaknesses</span></span>

### <a name="limited-browser-support"></a><span data-ttu-id="1a821-187">ブラウザーのサポートが限定的</span><span class="sxs-lookup"><span data-stu-id="1a821-187">Limited browser support</span></span>

<span data-ttu-id="1a821-188">現在のところ、ブラウザーから gRPC サービスを直接呼び出すことはできません。</span><span class="sxs-lookup"><span data-stu-id="1a821-188">It's impossible to directly call a gRPC service from a browser today.</span></span> <span data-ttu-id="1a821-189">gRPC は HTTP/2 の機能を多用しており、gRPC クライアントをサポートするための Web 要求を通して必要とされるレベルの制御を提供するブラウザーがありません。</span><span class="sxs-lookup"><span data-stu-id="1a821-189">gRPC heavily uses HTTP/2 features and no browser provides the level of control required over web requests to support a gRPC client.</span></span> <span data-ttu-id="1a821-190">たとえば、ブラウザーでは呼び出し元に、HTTP/2 を使用するよう求めたり、基になる HTTP/2 フレームへのアクセスを提供したりすることを許可していません。</span><span class="sxs-lookup"><span data-stu-id="1a821-190">For example, browsers do not allow a caller to require that HTTP/2 be used, or provide access to underlying HTTP/2 frames.</span></span>

<span data-ttu-id="1a821-191">gRPC をブラウザー アプリに取り込むには、次の 2 つの一般的な方法があります。</span><span class="sxs-lookup"><span data-stu-id="1a821-191">There are two common approaches to bring gRPC to browser apps:</span></span>

* <span data-ttu-id="1a821-192">[gRPC-Web](https://grpc.io/docs/tutorials/basic/web.html) は、ブラウザーで gRPC サポートを実現する、gRPC チームが提供する追加のテクノロジです。</span><span class="sxs-lookup"><span data-stu-id="1a821-192">[gRPC-Web](https://grpc.io/docs/tutorials/basic/web.html) is an additional technology from the gRPC team that provides gRPC support in the browser.</span></span> <span data-ttu-id="1a821-193">gRPC-Web を使用すると、ブラウザー アプリは gRPC の高パフォーマンスで低ネットワークの使用を活用できます。</span><span class="sxs-lookup"><span data-stu-id="1a821-193">gRPC-Web allows browser apps to benefit from the high-performance and low network usage of gRPC.</span></span> <span data-ttu-id="1a821-194">gRPC のすべての機能が gRPC-Web でサポートされているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="1a821-194">Not all of gRPC's features are supported by gRPC-Web.</span></span> <span data-ttu-id="1a821-195">クライアントと双方向ストリーミングはサポートされておらず、サーバー ストリーミングのサポートは限定的です。</span><span class="sxs-lookup"><span data-stu-id="1a821-195">Client and bi-directional streaming isn't supported, and there is limited support for server streaming.</span></span>

  <span data-ttu-id="1a821-196">.NET Core では、gRPC-Web がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="1a821-196">.NET Core has support for gRPC-Web.</span></span> <span data-ttu-id="1a821-197">詳細については、「<xref:grpc/browser>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1a821-197">For more information, see <xref:grpc/browser>.</span></span>

* <span data-ttu-id="1a821-198">RESTful JSON Web API は、[HTTP メタデータ](https://cloud.google.com/service-infrastructure/docs/service-management/reference/rpc/google.api#google.api.HttpRule)を使用して、 *.proto* ファイルに注釈を付けることによって、gRPC サービスから自動的に作成できます。</span><span class="sxs-lookup"><span data-stu-id="1a821-198">RESTful JSON Web APIs can be automatically created from gRPC services by annotating the *.proto* file with [HTTP metadata](https://cloud.google.com/service-infrastructure/docs/service-management/reference/rpc/google.api#google.api.HttpRule).</span></span> <span data-ttu-id="1a821-199">これにより、アプリで gRPC と JSON の両方の Web API をサポートできるため、両方に個別のサービスを構築する手間を省くことができます。</span><span class="sxs-lookup"><span data-stu-id="1a821-199">This allows an app to support both gRPC and JSON web APIs, without duplicating effort of building separate services for both.</span></span>

  <span data-ttu-id="1a821-200">.NET Core では、gRPC サービスから JSON Web API を作成するための実験的なサポートが用意されています。</span><span class="sxs-lookup"><span data-stu-id="1a821-200">.NET Core has experimental support for creating JSON web APIs from gRPC services.</span></span> <span data-ttu-id="1a821-201">詳細については、「<xref:grpc/httpapi>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1a821-201">For more information, see <xref:grpc/httpapi>.</span></span>

### <a name="not-human-readable"></a><span data-ttu-id="1a821-202">人が判読できない</span><span class="sxs-lookup"><span data-stu-id="1a821-202">Not human readable</span></span>

<span data-ttu-id="1a821-203">HTTP API 要求はテキストとして送信され、人が読み取りと作成を行えます。</span><span class="sxs-lookup"><span data-stu-id="1a821-203">HTTP API requests are sent as text and can be read and created by humans.</span></span>

<span data-ttu-id="1a821-204">gRPC メッセージは、既定では Protobuf でエンコードされます。</span><span class="sxs-lookup"><span data-stu-id="1a821-204">gRPC messages are encoded with Protobuf by default.</span></span> <span data-ttu-id="1a821-205">Protobuf での送受信は効率的ですが、そのバイナリ形式は人が判読できません。</span><span class="sxs-lookup"><span data-stu-id="1a821-205">While Protobuf is efficient to send and receive, its binary format isn't human readable.</span></span> <span data-ttu-id="1a821-206">Protobuf では、正しく逆シリアル化するために、 *.proto* ファイルで指定されているメッセージのインターフェイスに関する説明を必要とします。</span><span class="sxs-lookup"><span data-stu-id="1a821-206">Protobuf requires the message's interface description specified in the *.proto* file to properly deserialize.</span></span> <span data-ttu-id="1a821-207">ネットワーク上の Protobuf ペイロードを分析し、手動で要求を作成するには、追加のツールが必要です。</span><span class="sxs-lookup"><span data-stu-id="1a821-207">Additional tooling is required to analyze Protobuf payloads on the wire and to compose requests by hand.</span></span>

<span data-ttu-id="1a821-208">バイナリの Protobuf メッセージをサポートするため、[サーバー リフレクション](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md)や [gRPC コマンド ライン ツール](https://github.com/grpc/grpc/blob/master/doc/command_line_tool.md)などの機能が存在します。</span><span class="sxs-lookup"><span data-stu-id="1a821-208">Features such as [server reflection](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) and the [gRPC command line tool](https://github.com/grpc/grpc/blob/master/doc/command_line_tool.md) exist to assist with binary Protobuf messages.</span></span> <span data-ttu-id="1a821-209">また、Protobuf メッセージでは、[JSON との間の変換](https://developers.google.com/protocol-buffers/docs/proto3#json)がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="1a821-209">Also, Protobuf messages support [conversion to and from JSON](https://developers.google.com/protocol-buffers/docs/proto3#json).</span></span> <span data-ttu-id="1a821-210">組み込みの JSON 変換によって、デバッグ時に Protobuf メッセージを人が判読できる形式に変換する効率的な方法が提供されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-210">The built-in JSON conversion provides an efficient way to convert Protobuf messages to and from human readable form when debugging.</span></span>

## <a name="alternative-framework-scenarios"></a><span data-ttu-id="1a821-211">他のフレームワークのシナリオ</span><span class="sxs-lookup"><span data-stu-id="1a821-211">Alternative framework scenarios</span></span>

<span data-ttu-id="1a821-212">以下のシナリオでは、gRPC よりも他のフレームワークが推奨されます。</span><span class="sxs-lookup"><span data-stu-id="1a821-212">Other frameworks are recommended over gRPC in the following scenarios:</span></span>

* <span data-ttu-id="1a821-213">**ブラウザーでアクセスできる API**: gRPC は、ブラウザーで完全にサポートされているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="1a821-213">**Browser accessible APIs**: gRPC isn't fully supported in the browser.</span></span> <span data-ttu-id="1a821-214">gRPC-Web でブラウザーのサポートを提供可能ですが、制限があり、サーバー プロキシが必要になります。</span><span class="sxs-lookup"><span data-stu-id="1a821-214">gRPC-Web can offer browser support, but it has limitations and introduces a server proxy.</span></span>
* <span data-ttu-id="1a821-215">**ブロードキャスト リアルタイム通信**: gRPC ではストリーミングによるリアルタイム通信がサポートされますが、登録済みの接続にメッセージをブロードキャストするという概念がありません。</span><span class="sxs-lookup"><span data-stu-id="1a821-215">**Broadcast real-time communication**: gRPC supports real-time communication via streaming, but the concept of broadcasting a message out to registered connections doesn't exist.</span></span> <span data-ttu-id="1a821-216">たとえば、チャット ルーム内のすべてのクライアントに新しいチャット メッセージを送信する必要があるチャット ルーム シナリオでは、クライアントに新しいチャット メッセージを個々にストリーミングするため、それぞれに gRPC 呼び出しが必要です。</span><span class="sxs-lookup"><span data-stu-id="1a821-216">For example in a chat room scenario where new chat messages should be sent to all clients in the chat room, each gRPC call is required to individually stream new chat messages to the client.</span></span> <span data-ttu-id="1a821-217">[SignalR](xref:signalr/introduction) は、このシナリオの場合に便利なフレームワークです。</span><span class="sxs-lookup"><span data-stu-id="1a821-217">[SignalR](xref:signalr/introduction) is a useful framework for this scenario.</span></span> <span data-ttu-id="1a821-218">SignalR には永続的な接続という概念があり、メッセージをブロードキャストするためのサポートが組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="1a821-218">SignalR has the concept of persistent connections and built-in support for broadcasting messages.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1a821-219">その他の技術情報</span><span class="sxs-lookup"><span data-stu-id="1a821-219">Additional resources</span></span>

* <xref:tutorials/grpc/grpc-start>
* <xref:grpc/index>
* <xref:grpc/basics>
* <xref:grpc/migration>
